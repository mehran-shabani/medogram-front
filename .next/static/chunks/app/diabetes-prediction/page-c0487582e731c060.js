(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9749],{9922:function(e,n,t){Promise.resolve().then(t.bind(t,4671))},4671:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return O}});var r=t(7437),a=t(2265),s=t(3464),i=t(7107),l=t(3410),u=t(9735),o=t(4013),d=t(6387),h=t(4087),c=t(5860),m=t(7087),p=t(4902),g=t(5656),x=t(9253),j=t(8350),b=t(9619),_=t(3062),v=t(9327),Z=t(4121),y=t(5299),f=t(3460),C=t(5389),w=t(8444),k=t(2279),W=t(9084),S=t(6298),T=t(8614),q=t(6374);let B=(0,i.Z)({palette:{primary:{main:"#1976d2"},secondary:{main:"#dc004e"},background:{default:"#f5f5f5"}},typography:{fontFamily:"Vazirmatn, Arial, sans-serif"}}),A=(0,W.Z)(l.Z)(e=>{let{theme:n}=e;return{padding:n.spacing(4),marginTop:n.spacing(4),borderRadius:"20px",boxShadow:"0 10px 20px rgba(0, 0, 0, 0.1)"}}),E=(0,W.Z)(u.Z)(e=>{let{theme:n}=e;return{marginBottom:n.spacing(3),"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:n.palette.primary.main}}}}),P=(0,W.Z)(o.Z)(e=>{let{theme:n}=e;return{margin:n.spacing(1),padding:n.spacing(1,3),borderRadius:"25px",boxShadow:"0 3px 5px 2px rgba(0, 0, 0, .1)",transition:"all 0.3s","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 10px 4px rgba(0, 0, 0, .1)"}}}),I=(0,W.Z)(q.Z)(e=>{let{theme:n}=e;return{marginLeft:n.spacing(1),fontSize:"1rem",color:n.palette.text.secondary}});var N=()=>{let[e,n]=(0,a.useState)(1),[t,i]=(0,a.useState)({n_pregnant:"0",glucose:"",tension:"",thickness:"20",height:"",weight:"",age:"",num_parents:"0",num_siblings:"0",num_grandparents:"0",num_uncles_aunts:"0",name:"",gender:"male"}),[l,u]=(0,a.useState)({}),[o,W]=(0,a.useState)(null),[q,N]=(0,a.useState)(!1),[O,z]=(0,a.useState)(null),[L,R]=(0,a.useState)(!1),F=e=>{i({...t,[e.target.name]:e.target.value}),u({...l,[e.target.name]:""})},H=e=>{let n={},r=!0;switch(e){case 1:t.age||(n.age="سن الزامی است"),t.height||(n.height="قد الزامی است"),t.weight||(n.weight="وزن الزامی است");break;case 2:"female"!==t.gender||t.n_pregnant||(n.n_pregnant="تعداد بارداری الزامی است"),t.glucose||(n.glucose="قند خون الزامی است"),t.tension||(n.tension="فشار خون الزامی است"),t.thickness||(n.thickness="ضخامت پوست الزامی است");break;case 3:t.num_parents||(n.num_parents="تعداد والدین مبتلا الزامی است"),t.num_siblings||(n.num_siblings="تعداد خواهر/برادر مبتلا الزامی است"),t.num_grandparents||(n.num_grandparents="تعداد پدربزرگ/مادربزرگ مبتلا الزامی است"),t.num_uncles_aunts||(n.num_uncles_aunts="تعداد عمو/خاله/دایی/عمه مبتلا الزامی است")}return Object.keys(n).length>0&&(u(n),r=!1),r},M=()=>{H(e)?n(e+1):(R(!0),z("لطفاً همه فیلدهای الزامی را پر کنید."))},D=()=>{R(!1)},V=async()=>{if(H(3)){N(!0),z(null);try{let e=await s.Z.post("https://api.medogram.ir/predict/api/diabetes/",t);W(e.data.probability),M()}catch(e){z("مشکلی در پیش‌بینی رخ داده است. لطفاً دوباره تلاش کنید."),R(!0)}N(!1)}else R(!0),z("لطفاً همه فیلدهای الزامی را پر کنید.")},Y=async e=>{N(!0),z(null);try{let n={...t,actual_outcome:e};await s.Z.post("https://api.medogram.ir/predict/api/store_user_input/",n),R(!0)}catch(e){z("مشکلی در ارسال پاسخ رخ داده است."),R(!0)}N(!1)};return(0,r.jsxs)(b.Z,{theme:B,children:[(0,r.jsx)(_.ZP,{}),(0,r.jsxs)(v.Z,{maxWidth:"md",children:[(0,r.jsxs)(A,{elevation:3,children:[(0,r.jsx)(Z.Z,{activeStep:e-1,alternativeLabel:!0,children:["اطلاعات شخصی","اطلاعات پزشکی","سابقه خانوادگی","نتیجه"].map(e=>(0,r.jsx)(y.Z,{children:(0,r.jsx)(f.Z,{children:e})},e))}),(0,r.jsx)(g.Z,{sx:{mt:4},children:(0,r.jsx)(T.M,{mode:"wait",children:(e=>{let n={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5}};switch(e){case 1:return(0,r.jsxs)(S.E.div,{...n,children:[(0,r.jsx)(d.Z,{variant:"h5",gutterBottom:!0,children:"مرحله ۱: اطلاعات شخصی"}),(0,r.jsx)(E,{label:"نام شما",name:"name",fullWidth:!0,value:t.name,onChange:F}),(0,r.jsx)(E,{label:"سن شما",name:"age",type:"number",fullWidth:!0,value:t.age,onChange:F,error:!!l.age,helperText:l.age,required:!0}),(0,r.jsx)(E,{label:"قد (سانتی‌متر)",name:"height",type:"number",fullWidth:!0,value:t.height,onChange:F,error:!!l.height,helperText:l.height,required:!0}),(0,r.jsx)(E,{label:"وزن (کیلوگرم)",name:"weight",type:"number",fullWidth:!0,value:t.weight,onChange:F,error:!!l.weight,helperText:l.weight,required:!0}),(0,r.jsxs)(h.Z,{row:!0,name:"gender",value:t.gender,onChange:F,children:[(0,r.jsx)(c.Z,{value:"male",control:(0,r.jsx)(m.Z,{}),label:"مرد"}),(0,r.jsx)(c.Z,{value:"female",control:(0,r.jsx)(m.Z,{}),label:"زن"})]})]});case 2:return(0,r.jsxs)(S.E.div,{...n,children:[(0,r.jsx)(d.Z,{variant:"h5",gutterBottom:!0,children:"مرحله ۲: اطلاعات پزشکی"}),"female"===t.gender&&(0,r.jsx)(p.Z,{title:"تعداد دفعاتی که باردار شده‌اید",placement:"top-start",children:(0,r.jsx)(E,{label:"تعداد بارداری",name:"n_pregnant",type:"number",fullWidth:!0,value:t.n_pregnant,onChange:F,error:!!l.n_pregnant,helperText:l.n_pregnant,required:!0,InputProps:{endAdornment:(0,r.jsx)(I,{})}})}),(0,r.jsx)(p.Z,{title:"میزان قند خون ناشتا (mg/dL)",placement:"top-start",children:(0,r.jsx)(E,{label:"قند خون",name:"glucose",type:"number",fullWidth:!0,value:t.glucose,onChange:F,error:!!l.glucose,helperText:l.glucose,required:!0,InputProps:{endAdornment:(0,r.jsx)(I,{})}})}),(0,r.jsx)(p.Z,{title:"فشار خون سیستولیک (mmHg)",placement:"top-start",children:(0,r.jsx)(E,{label:"فشار خون",name:"tension",type:"number",fullWidth:!0,value:t.tension,onChange:F,error:!!l.tension,helperText:l.tension,required:!0,InputProps:{endAdornment:(0,r.jsx)(I,{})}})}),(0,r.jsx)(p.Z,{title:"ضخامت چین پوستی سه سر بازو (میلی‌متر) - معمولاً بین 10 تا 50 میلی‌متر",placement:"top-start",children:(0,r.jsx)(E,{label:"ضخامت پوست (میلی‌متر)",name:"thickness",type:"number",fullWidth:!0,value:t.thickness,onChange:F,error:!!l.thickness,helperText:l.thickness,required:!0,InputProps:{endAdornment:(0,r.jsx)(I,{})}})})]});case 3:return(0,r.jsxs)(S.E.div,{...n,children:[(0,r.jsx)(d.Z,{variant:"h5",gutterBottom:!0,children:"مرحله ۳: سابقه خانوادگی"}),(0,r.jsx)(E,{label:"تعداد والدین مبتلا به دیابت",name:"num_parents",type:"number",fullWidth:!0,value:t.num_parents,onChange:F,error:!!l.num_parents,helperText:l.num_parents,required:!0}),(0,r.jsx)(E,{label:"تعداد خواهر/برادر مبتلا به دیابت",name:"num_siblings",type:"number",fullWidth:!0,value:t.num_siblings,onChange:F,error:!!l.num_siblings,helperText:l.num_siblings,required:!0}),(0,r.jsx)(E,{label:"تعداد پدربزرگ/مادربزرگ مبتلا به دیابت",name:"num_grandparents",type:"number",fullWidth:!0,value:t.num_grandparents,onChange:F,error:!!l.num_grandparents,helperText:l.num_grandparents,required:!0}),(0,r.jsx)(E,{label:"تعداد عمو/خاله/دایی/عمه مبتلا به دیابت",name:"num_uncles_aunts",type:"number",fullWidth:!0,value:t.num_uncles_aunts,onChange:F,error:!!l.num_uncles_aunts,helperText:l.num_uncles_aunts,required:!0})]});case 4:return(0,r.jsxs)(S.E.div,{...n,children:[(0,r.jsx)(d.Z,{variant:"h5",gutterBottom:!0,children:"نتیجه پیش‌بینی"}),(0,r.jsxs)(g.Z,{sx:{my:4,textAlign:"center"},children:[(0,r.jsx)(d.Z,{variant:"h4",color:"primary",gutterBottom:!0,children:"احتمال ابتلای شما به دیابت:"}),(0,r.jsx)(d.Z,{variant:"h2",color:"secondary",gutterBottom:!0,children:o?`${(100*o).toFixed(2)}%`:"N/A"}),(0,r.jsx)(x.Z,{variant:"determinate",value:o?100*o:0,sx:{height:10,borderRadius:5,my:2}})]}),(0,r.jsx)(j.Z,{sx:{my:4}}),(0,r.jsx)(d.Z,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"برای افزایش دقت مدل ما، آیا مایلید به سوال زیر پاسخ دهید؟"}),(0,r.jsx)(d.Z,{variant:"body1",gutterBottom:!0,children:"آیا خود شما دیابت اثبات شده دارید؟"}),(0,r.jsxs)(g.Z,{sx:{mt:2,display:"flex",justifyContent:"center"},children:[(0,r.jsx)(P,{variant:"contained",color:"success",onClick:()=>Y(!0),children:"بله"}),(0,r.jsx)(P,{variant:"contained",color:"error",onClick:()=>Y(!1),children:"خیر"})]})]});default:return null}})(e)})}),(0,r.jsxs)(g.Z,{sx:{mt:4,display:"flex",justifyContent:"space-between"},children:[e>1&&(0,r.jsx)(P,{variant:"outlined",onClick:()=>{n(e-1)},children:"قبلی"}),e<4&&(0,r.jsx)(P,{variant:"contained",color:"primary",onClick:3===e?V:M,children:q?(0,r.jsx)(C.Z,{size:24}):3===e?"ارسال":"بعدی"})]})]}),(0,r.jsx)(w.Z,{open:L,autoHideDuration:6e3,onClose:D,children:(0,r.jsx)(k.Z,{onClose:D,severity:O?"error":"success",sx:{width:"100%"},children:O||"پاسخ شما با موفقیت ارسال شد!"})})]})]})};function O(){return(0,r.jsx)(N,{})}}},function(e){e.O(0,[5040,6298,3464,2276,9078,4013,344,6447,6697,3470,4902,8444,6954,1968,2971,2117,1744],function(){return e(e.s=9922)}),_N_E=e.O()}]);