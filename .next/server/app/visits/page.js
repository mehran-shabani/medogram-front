(()=>{var e={};e.id=533,e.ids=[533],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},59520:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>c}),t(55630),t(19612),t(88258);var r=t(23191),l=t(88716),s=t(37922),i=t.n(s),n=t(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(a,o);let c=["",{children:["visits",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,55630)),"/workspace/app/visits/page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,19612)),"/workspace/app/layout.jsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,88258)),"/workspace/app/not-found.jsx"]}],u=["/workspace/app/visits/page.jsx"],d="/visits/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/visits/page",pathname:"/visits",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},88850:(e,a,t)=>{Promise.resolve().then(t.bind(t,74065))},74065:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>er});var r=t(10326),l=t(17577),s=t(40984),i=t(98829),n=t(56333),o=t(89178),c=t(95148),u=t(6283),d=t(25609),p=t(59351),m=t(52188),v=t(32005),b=t(94464),h=t(8422),x=t(48864),g=t(1256),y=t(70746),f=t(16027),j=t(42265),_=t(98139),Z=t(31190);t(45996);var k=t(28186),C=t(41135),w=t(88634),$=t(57531),q=t(27080),P=t(91703),A=t(13643),M=t(2791),I=t(92992),O=t(49006),S=t(69408),T=t(37382),W=t(73025),z=t(41598),F=t(25310),D=t(71685),L=t(97898);function R(e){return(0,L.ZP)("MuiMenuItem",e)}let B=(0,D.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),G=e=>{let{disabled:a,dense:t,divider:r,disableGutters:l,selected:s,classes:i}=e,n=(0,w.Z)({root:["root",t&&"dense",a&&"disabled",!l&&"gutters",r&&"divider",s&&"selected"]},R,i);return{...i,...n}},E=(0,P.ZP)(O.Z,{shouldForwardProp:e=>(0,q.Z)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,a)=>{let{ownerState:t}=e;return[a.root,t.dense&&a.dense,t.divider&&a.divider,!t.disableGutters&&a.gutters]}})((0,A.Z)(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${B.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,$.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${B.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,$.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${B.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,$.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,$.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${B.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${B.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${W.Z.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${W.Z.inset}`]:{marginLeft:52},[`& .${F.Z.root}`]:{marginTop:0,marginBottom:0},[`& .${F.Z.inset}`]:{paddingLeft:36},[`& .${z.Z.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${z.Z.root} svg`]:{fontSize:"1.25rem"}}}]}))),V=l.forwardRef(function(e,a){let t;let s=(0,M.i)({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:n="li",dense:o=!1,divider:c=!1,disableGutters:u=!1,focusVisibleClassName:d,role:p="menuitem",tabIndex:m,className:v,...b}=s,h=l.useContext(I.Z),x=l.useMemo(()=>({dense:o||h.dense||!1,disableGutters:u}),[h.dense,o,u]),g=l.useRef(null);(0,S.Z)(()=>{i&&g.current&&g.current.focus()},[i]);let y={...s,dense:x.dense,divider:c,disableGutters:u},f=G(s),j=(0,T.Z)(g,a);return s.disabled||(t=void 0!==m?m:-1),(0,r.jsx)(I.Z.Provider,{value:x,children:(0,r.jsx)(E,{ref:j,role:p,tabIndex:t,component:n,focusVisibleClassName:(0,C.Z)(f.focusVisible,d),className:(0,C.Z)(f.root,v),...b,ownerState:y,classes:f})})}),H=[{label:"علائم عمومی",key:"general_symptoms",options:[{value:"fever",label:"تب و لرز"},{value:"fatigue",label:"اسهال و استفراغ"},{value:"weight_loss",label:"سر درد"},{value:"appetite_loss",label:"کاهش اشتها"},{value:"night_sweats",label:"تنگی نفس"},{value:"general_pain",label:"علائم سرماخوردگی"},{value:"swollen_lymph_nodes",label:"بدن درد"},{value:"chills",label:"دندان درد"},{value:"malaise",label:"نمیدونم مشکلم چیه!"},{value:"malaise",label:"سایر"}]},{label:"علائم عصبی",key:"neurological_symptoms",options:[{value:"headache",label:"سردرد"},{value:"dizziness",label:"سرگیجه"},{value:"seizures",label:"تشنج"},{value:"numbness",label:"بی‌حسی"},{value:"weakness",label:"ضعف عضلانی"},{value:"memory_loss",label:"از دست دادن حافظه"},{value:"speech_difficulty",label:"مشکل در تکلم"},{value:"vision_problems",label:"مشکلات بینایی"},{value:"migraine",label:"میگرن"},{value:"tremor",label:"لرزش"}]},{label:"علائم قلبی عروقی",key:"cardiovascular_symptoms",options:[{value:"chest_pain",label:"درد قفسه سینه"},{value:"palpitations",label:"تپش قلب"},{value:"shortness_of_breath",label:"تنگی نفس"},{value:"swelling",label:"ورم"},{value:"high_blood_pressure",label:"فشار خون بالا"},{value:"fatigue",label:"خستگی"},{value:"fainting",label:"غش کردن"},{value:"irregular_heartbeat",label:"ضربان قلب نامنظم"},{value:"low_blood_pressure",label:"فشار خون پایین"}]},{label:"علائم گوارشی",key:"gastrointestinal_symptoms",options:[{value:"nausea",label:"حالت تهوع"},{value:"vomiting",label:"استفراغ"},{value:"diarrhea",label:"اسهال"},{value:"constipation",label:"یبوست"},{value:"abdominal_pain",label:"درد شکم"},{value:"bloating",label:"نفخ"},{value:"heartburn",label:"سوزش سر دل"},{value:"loss_of_appetite",label:"بی‌اشتهایی"},{value:"indigestion",label:"سوءهاضمه"}]},{label:"علائم تنفسی",key:"respiratory_symptoms",options:[{value:"cough",label:"سرفه"},{value:"shortness_of_breath",label:"تنگی نفس"},{value:"wheezing",label:"خس خس سینه"},{value:"chest_tightness",label:"تنگی قفسه سینه"},{value:"sore_throat",label:"گلودرد"},{value:"runny_nose",label:"آبریزش بینی"},{value:"fever",label:"تب"},{value:"sneezing",label:"عطسه"},{value:"difficulty_breathing",label:"مشکل در تنفس"}]}],N=[{value:"taamin_ejtemaei",label:"بیمه تامین اجتماعی"},{value:"salamat_urban",label:"بیمه سلامت همگانی شهری"},{value:"salamat_isargaran",label:"بیمه سلامت همگانی ایثارگران"},{value:"salamat_karkonan",label:"بیمه سلامت کارکنان"},{value:"salamat_roostaei",label:"بیمه سلامت همگانی روستایی"},{value:"naft_gas",label:"بیمه شرکت نفت و گاز جمهوری اسلامی ایران"},{value:"niro_mosallah",label:"بیمه نیروهای مسلح"},{value:"others",label:"سایر"},{value:"none",label:"آزاد"}],Y=({formData:e,handleChange:a})=>(0,r.jsxs)(r.Fragment,{children:[r.jsx(d.Z,{variant:"body1",sx:{mb:1,color:"gray"},children:"لطفا اطلاعات بیمار را وارد کنید."}),r.jsx(k.Z,{label:"نام کامل",name:"name",value:e.name,onChange:a,fullWidth:!0,required:!0,margin:"normal",helperText:"نام خود را وارد کنید."}),r.jsx(k.Z,{label:"کد ملی",name:"national_code",value:e.national_code,onChange:a,fullWidth:!0,required:!0,margin:"normal",helperText:"کد ملی ۱۰ رقمی خود را وارد کنید."}),(0,r.jsxs)(k.Z,{select:!0,label:"نوع بیمه",name:"insurance_type",value:e.insurance_type,onChange:a,fullWidth:!0,required:!0,margin:"normal",helperText:"لطفا نوع بیمه خود را انتخاب کنید.",children:[r.jsx(V,{value:"",children:"انتخاب کنید"}),N.map(e=>r.jsx(V,{value:e.value,children:e.label},e.value))]}),(0,r.jsxs)(k.Z,{select:!0,label:"نوع ویزیت",name:"urgency",value:e.urgency,onChange:a,fullWidth:!0,margin:"normal",helperText:"لطفا یکی از گزینه‌های مربوط به نوع ویزیت را انتخاب کنید.",children:[r.jsx(V,{value:"prescription",children:"نسخه نویسی داروهای شما"}),r.jsx(V,{value:"diet",children:"مشاوره و در خواست رژیم غذایی"}),r.jsx(V,{value:"addiction",children:"مشاوره زیبایی"}),r.jsx(V,{value:"online_consultation",children:"ویزیت و مشاوره آنلاین"}),r.jsx(V,{value:"online_consultation",children:"مشاوره اعصاب و روان"})]})]}),X=({formData:e,handleChange:a})=>{let t=H.slice(0,2);return(0,r.jsxs)(r.Fragment,{children:[r.jsx(d.Z,{variant:"body1",sx:{mb:1,color:"gray"},children:"علائم عمومی و عصبی را وارد کنید. حداقل یکی از علائم عمومی الزامی است."}),t.map(t=>r.jsx(k.Z,{select:!0,label:t.label,name:t.key,value:e[t.key],onChange:a,fullWidth:!0,margin:"normal",children:t.options.map(e=>r.jsx(V,{value:e.value,children:e.label},e.value))},t.key))]})},J=({formData:e,handleChange:a})=>{let t=H.slice(2);return(0,r.jsxs)(r.Fragment,{children:[r.jsx(d.Z,{variant:"body1",sx:{mb:1,color:"gray"},children:"علائم قلبی عروقی، گوارشی و تنفسی را وارد کنید (در صورت وجود). همچنین می‌توانید در صورت نیاز، توضیحات اضافه وارد نمایید."}),t.map(t=>(0,r.jsxs)(k.Z,{select:!0,label:t.label,name:t.key,value:e[t.key],onChange:a,fullWidth:!0,margin:"normal",children:[r.jsx(V,{value:"",children:"هیچ کدام"}),t.options.map(e=>r.jsx(V,{value:e.value,children:e.label},e.value))]},t.key)),r.jsx(k.Z,{label:"توضیحات اضافی",name:"description",value:e.description,onChange:a,fullWidth:!0,multiline:!0,rows:4,margin:"normal",helperText:"در صورت تمایل، توضیحات دلخواه خود را وارد کنید."})]})},K=({formData:e})=>{let a=(e,a)=>{if(!a)return"هیچ";let t=H[e].options.find(e=>e.value===a);return t?t.label:"هیچ"},t=N.find(a=>a.value===e.insurance_type)?.label||"مشخص نشده";return(0,r.jsxs)(r.Fragment,{children:[r.jsx(d.Z,{variant:"h6",sx:{mb:2},children:"خلاصه اطلاعات و تأیید نهایی"}),(0,r.jsxs)(u.Z,{sx:{mb:2,color:"gray"},children:[(0,r.jsxs)(d.Z,{children:["نام: ",e.name]}),(0,r.jsxs)(d.Z,{children:["کد ملی: ",e.national_code]}),(0,r.jsxs)(d.Z,{children:["نوع بیمه: ",t]}),(0,r.jsxs)(d.Z,{children:["نوع ویزیت: ",e.urgency]}),(0,r.jsxs)(d.Z,{children:["علائم عمومی: ",a(0,e.general_symptoms)]}),(0,r.jsxs)(d.Z,{children:["علائم عصبی: ",a(1,e.neurological_symptoms)]}),(0,r.jsxs)(d.Z,{children:["علائم قلبی عروقی: ",a(2,e.cardiovascular_symptoms)]}),(0,r.jsxs)(d.Z,{children:["علائم گوارشی: ",a(3,e.gastrointestinal_symptoms)]}),(0,r.jsxs)(d.Z,{children:["علائم تنفسی: ",a(4,e.respiratory_symptoms)]}),e.description&&(0,r.jsxs)(d.Z,{children:["توضیحات اضافی: ",e.description]})]}),r.jsx(d.Z,{variant:"body2",sx:{color:"red"},children:"اگر تمام موارد صحیح است، روی \xabبعدی\xbb کلیک کنید."})]})},Q=function(){let{token:e}=(0,l.useContext)(h.V),[a,t]=(0,l.useState)(0),[s,i]=(0,l.useState)(!1),[n,c]=(0,l.useState)({name:"",national_code:"",insurance_type:"",urgency:"prescription",general_symptoms:"",neurological_symptoms:"",cardiovascular_symptoms:"",gastrointestinal_symptoms:"",respiratory_symptoms:"",description:""}),[p,m]=(0,l.useState)(!1),v=["اطلاعات بیمار","علائم (۱/۲)","علائم (۲/۲)","تأیید و ثبت نهایی"],k=e=>{if(0===e){if(!n.name.trim())return Z.Am.error("لطفا نام را وارد کنید."),!1;if(!n.national_code.trim())return Z.Am.error("لطفا کد ملی را وارد کنید."),!1;if(!/^[0-9]{10}$/.test(n.national_code))return Z.Am.error("کد ملی باید عددی و ۱۰ رقمی باشد."),!1;if(!n.insurance_type.trim())return Z.Am.error("لطفا نوع بیمه را انتخاب کنید."),!1}else if(1===e&&!n.general_symptoms)return Z.Am.error("لطفا حداقل یکی از علائم عمومی را انتخاب کنید."),!1;return!0},C=e=>{let{name:a,value:t}=e.target;c(e=>({...e,[a]:t}))},w=async a=>{if(a.preventDefault(),k(0)&&k(1)){i(!0);try{let a=N.find(e=>e.value===n.insurance_type)?.label||"مشخص نشده",r=`کد ملی: ${n.national_code}
نوع بیمه: ${a}
${n.description}`,l={...n,description:r},s=await b.Z.post("https://api.medogram.ir/api/visit/",l,{headers:{Authorization:`Bearer ${e}`}});c({name:"",national_code:"",insurance_type:"",urgency:"prescription",general_symptoms:"",neurological_symptoms:"",cardiovascular_symptoms:"",gastrointestinal_symptoms:"",respiratory_symptoms:"",description:""}),t(0),Z.Am.success(`ویزیت برای ${s.data.name} با موفقیت ثبت شد.`)}catch(e){console.error("Error creating visit:",e),e.response&&401===e.response.status?Z.Am.error("احراز هویت ناموفق بود! لطفا دوباره وارد شوید."):Z.Am.error("خطا در ثبت ویزیت.")}finally{i(!1)}}};return(0,r.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#f5f5f5"},children:[(0,r.jsxs)(o.Z,{elevation:3,sx:{padding:{xs:2,sm:4},width:"90%",maxWidth:600,opacity:p?1:0,transform:p?"translateY(0)":"translateY(20px)",transition:"opacity 0.5s ease-out, transform 0.5s ease-out",backgroundColor:"#ffffff",borderRadius:4,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},children:[r.jsx(d.Z,{variant:"h5",gutterBottom:!0,sx:{textAlign:"center",mb:3},children:"ثبت ویزیت جدید"}),r.jsx(x.Z,{activeStep:a,alternativeLabel:!0,sx:{mb:4},children:v.map(e=>r.jsx(g.Z,{children:r.jsx(y.Z,{children:e})},e))}),(0,r.jsxs)(u.Z,{component:"form",onSubmit:w,children:[r.jsx(f.ZP,{container:!0,spacing:2,children:r.jsx(f.ZP,{item:!0,xs:12,children:(e=>{switch(e){case 0:return r.jsx(Y,{formData:n,handleChange:C});case 1:return r.jsx(X,{formData:n,handleChange:C});case 2:return r.jsx(J,{formData:n,handleChange:C});case 3:return r.jsx(K,{formData:n});default:return null}})(a)})}),(0,r.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"space-between",mt:3},children:[r.jsx(j.Z,{disabled:0===a,onClick:()=>{t(e=>e-1)},variant:"outlined",children:"بازگشت"}),a===v.length?r.jsx(j.Z,{variant:"contained",color:"primary",type:"submit",disabled:s,children:s?r.jsx(_.Z,{size:24,color:"inherit"}):"ثبت"}):r.jsx(j.Z,{variant:"contained",color:"primary",onClick:()=>{k(a)&&t(e=>e+1)},disabled:s,type:"button",children:"بعدی"})]})]})]}),r.jsx(Z.Ix,{})]})},U=(0,s.Z)({palette:{primary:{main:"#00838f"},background:{default:"#e0f7fa"}},typography:{fontFamily:"Roboto, Arial, sans-serif"}}),ee=({children:e})=>r.jsx(n.Z,{component:v.E.div,maxWidth:"md",sx:{display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"100vh",py:4},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e}),ea=({children:e})=>r.jsx(o.Z,{elevation:3,sx:{borderRadius:4,p:{xs:3,md:4},pb:0,backgroundColor:"white",display:"flex",flexDirection:"column"},children:e}),et=()=>(0,r.jsxs)(i.Z,{theme:U,children:[r.jsx(c.ZP,{}),r.jsx(ee,{children:(0,r.jsxs)(ea,{children:[(0,r.jsxs)(u.Z,{component:"header",sx:{textAlign:"center",mb:4},children:[r.jsx(d.Z,{variant:"h4",component:"h1",color:"primary",gutterBottom:!0,children:"زمان‌بندی ویزیت شما"}),r.jsx(d.Z,{variant:"subtitle1",color:"text.secondary",children:"برای رزرو نوبت با متخصصان سلامت ما، وقت بگیرید"})]}),(0,r.jsxs)(p.Z,{severity:"warning",sx:{mb:4,direction:"rtl",backgroundColor:"#ffecb3",color:"#bf360c","& .MuiAlert-icon":{color:"#bf360c"}},children:[r.jsx(d.Z,{variant:"body1",sx:{fontWeight:"bold",fontSize:"1.1rem",mb:1},children:"شما باید قبل از ویزیت، مبلغ یک ویزیت را در حسابتان داشته باشید!"}),(0,r.jsxs)(d.Z,{variant:"body2",children:["قیمت هر ویزیت 29,950 تومان است. لطفاً قبل از ویزیت به صفحه"," ",r.jsx(m.Z,{href:"payment-visit/",color:"inherit",underline:"always",sx:{fontWeight:"bold"},children:"پرداخت ویزیت"})," ","بروید."]})]}),r.jsx(Q,{sx:{flexGrow:1,display:"flex",flexDirection:"column"}})]})})]});function er(){return r.jsx(et,{})}},41598:(e,a,t)=>{"use strict";t.d(a,{Z:()=>i,f:()=>s});var r=t(71685),l=t(97898);function s(e){return(0,l.ZP)("MuiListItemIcon",e)}let i=(0,r.Z)("MuiListItemIcon",["root","alignItemsFlexStart"])},25310:(e,a,t)=>{"use strict";t.d(a,{L:()=>s,Z:()=>i});var r=t(71685),l=t(97898);function s(e){return(0,l.ZP)("MuiListItemText",e)}let i=(0,r.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},55630:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`/workspace/app/visits/page.jsx#default`)}};var a=require("../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[948,726,319,186,689,364,735,388],()=>t(59520));module.exports=r})();